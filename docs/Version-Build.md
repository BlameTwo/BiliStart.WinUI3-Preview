## Version Control Log

### 版本区别

1. dev为预览版，是预备加入到正式版本中。

2. Preview为测试版，可能不会加入到正式版本中。

3. Release通常与`Preview`为一个Version，Release为功能预发布版本，比dev等级低。

4. 总之，`publish`>`dev`>`Release`>`Preview`

5. publish为正式版暂定为**0.5**为第一个正式版本号，

### 说明

`版本日志`一直是一个应用的核心记录，从这里开始，你将会看到我对BiliStart做的所有修改和更新以及切割过时功能。

#### 0.0.1-dev

此版本实现基础功能较多，不做记录。

#### 0.0.2-dev

1. 视频播放和流媒体播放（分集，弹幕，详情）

2. 账户管理（多账号管理）

3. B站数据集合与订阅服务（热门、排行榜、音乐排行榜、热搜榜，搜索）

4. 简易下载（无播放功能，无合并功能）

5. 主基调已定

#### 0.0.3-dev

1. 文件加密（本地token加密）和人性化的切换Token
   
   1. 修改了请求组装控制器（IRequestMessage）中加入了一次性token请求和缓存Token请求方式，即修改了在组装请求的时候，可传入一个Token做单次请求

2. 增加设置页面的组件滑动过渡特效。

3. 将Icon设置成为Emoji标题符号。

4. 增加入站必刷。

5. 删除分区页
   
   1. 原因：因B站内部对分区页做了拆散，我无法通过API获取每一个分区ID的相同格式的分区数据。
   
   2. 其他原因：B站手机端热门视图中的顶部圆形按钮导航也是一种潜在的不确定的数据集合，虽然说有些数据已经存在很久，但本应用只保留以前的导航数据。

6. BUG相关
   
   1. 修复搜索页面的空数据的BUG
   
   2. 修复（MainPage）主页面的标题栏拖动区域的错误。
   
   3. 修复 最大化最小化后未刷新主页面标题栏区域的错误。
   
   4. （未完全修复）修复 主题色更改后得标题栏三大金刚得颜色问题，因WindowsAppSdk 1.3中未引入主动监听系统颜色更改，所以标题栏的颜色在默认情况下会出现颜色错误的问题。（2023.8.30）
   
   5. 修复综合页面的导航错误（在首次进入到综合页面内容指示未正确按照逻辑进行）

7. API更改相关
   
   1. 成功通过安卓Key鉴权（方法是修改HttpClient的UA字段）

8. 实装应用程序生命周期，以及后续的一些部分功能设置。  

9. 对首页进行一次优化浏览，增加`首页快捷入口`（因推荐API已经被修复，Android鉴权通过）

10. 对应用导航框架代码进行优化，[详情](https://github.com/BlameTwo/BiliStart.WinUI3/commit/c9822f7f5a27c875e76a3d64257cc6464bfc5745)

#### 0.0.4-dev

##### 新增功能

1. 对主题设置增加一个随时间变化而变化的（动态）特效。

2. 增加直播模块
   
   1. 首页直播功能入口
   2. 分区直播入口
   3. 更加详细的分区直播筛选页面
   4. 观看直播
   5. 直播消息
   6. 弹幕操作
   7. 去除小型礼物播报，和用户进房通知（所有普通用户，包含舰长和总督）
   8. 可能会以这个功能作为蓝本，制作一个分功能（直播弹幕姬）
   9. 长期不会增加的功能（送礼物，各种特效…………）

3. 修改托盘类型，并增加托盘能效模式（正常和低能耗）

4. 增加历史记录模块
   
   1. 目前仅视频。
      1. 包含简易的播放进度显示

5. **增加AI问答** （使用官方接口进行编写，请勿滥用）
   
   1. 在使用过程中可能出现点击很多次都无法获得答案的行为，可以尝试点击`让我们重新开始`按钮进行重置。
   2. 注意点击次数以防止被B站监控（不知道会不会造成账号危险

6. 引入了全新的卡片效果，增强应用视觉感。

7. 优化小屏浏览。

8. 优化跳转页面整体效果。

9. 引入Uri 应用协议，可以尝试在浏览器输入: `bilistart:`或者`bilibili`两种协议头进行启动应用。
   
   1. 目前支持的协议拓展
      1. 视频协议：`协议头://video/{av号}`，例如 bilibili://video/988621177

10. 加入鼠标更多输入支持
    
    1. 在首页进行鼠标`后侧键`进行后退
    
    2. 跳转页面
       
       1. `后侧键` 后退
       
       2. `前侧键`返回首页

##### 组件修改

1. 替换`TitleBarView`组件，新UI名称：`TitleBar`
   1. TitleBar控件中包含`是否显示最大化按钮`和`是否显示最小化按钮`的拓展功能
2. 对`DashMediaPlayerElement`播放控件增加了对直播的支持以及新的`TransportControl`样式的编写
3. 增加`AdaptiveView`和·`ItemsControlView`控件用来替换社区包`v7`版本的AdaptiveGridView控件
4. 优化标题栏高度与首页优化
5. 优化Api请求性能与请求残留清理
6. 增加了对浮出框(FlyoutBase)的优化，现在浮出框的效果为聚丙烯背景材质效果，并且可浮出窗口。
7. **删除Exe安装包，因为需要引用到Msix包API**

##### Bug修复

1. 修复`综合`页面的的刷新数据导致的全部页刷新的问题
2. 硬修复`浮出菜单`在默认主题下通过临时修改主题颜色而导致的颜色错误问题。

##### 已知BUG

1. 自0.0.2版本以来在页面导航的时候会产生`内存泄漏`问题。
   
   1. 可能是异步造成的问题，也有可能是导航缓存的问题。

#### 0.0.5-Preview

**此版本为功能测试，不计入正式版**

1. 加入全新交互模式（根据个人习惯更改
2. 主要功能来源于同版本的`Release`

#### 0.0.5-Release

##### 新增功能

1. 全新视图（0.0.5-Preview 版本结果）
   1. 将应用的主基调变成类浏览器的体验，应用最多展示三个额头。
   2. 全新标签效果
      1. 标签具有等待条的效果，在页面加载过程中将会有短暂读条效果
      2. 标签实时性与内容跟随。
      3. 整体页面颜色按照WinUI标准设计，在此强烈建议您使用`MicaAlt`效果进行使用。
   3. 标签空白区域为可拖动区域，大大提高窗口移动体验。
2. 动态模块
   1. 将动态从Main导航栏剔除，并移动到`User`头像按钮中，用户需要点击我的动态进入动态页面。
   2. 动态布局将与网页端布局类似，将舍弃`瀑布流`布局方式（会眼花缭乱），会采用竖版进行排版。
   3. 动态评论区将显示为对话框，而并非在页面上进行操作。
   4. 布局：
      1. 中心信息流（动态主内容）
      2. 左侧筛选框（筛选主流Up主的动态信息，并展示到主内容区域）
      3. 全部动态与视频动态将独立成一个视图，与Up主筛选分开。
   5. 删除的动态内容
      1. 分享（本应用将不会存在任何意义上的分享功能，因为没有必要）
3. 增加直播历史记录
4. 评论增加查看本楼全部对话。

##### 组件修改

1. 暂时删除鼠标后侧键的导航行为，原因为：应用的主基调修改为类浏览器的体验。

2. 将大部分的页面按钮修改了样式。

3. 削减应用包大小，从`>100`mb削减到`<70`mb
   
   1. 此大小可能会再变，因为可能会加入ffmpeg功能。

4. 删除`背景图片`功能。

5. 优化运行时内存大小。

6. 对播放器控制器增加了两个新状态样式

##### Bug修复

1. 修复了`入站必刷`页面的闪退问题。

2. 修复了`历史记录`的`视频`项的重复问题。

#### 0.0.5-dev

#### 0.0.6-dev

##### 新增功能

1. Up主空间
   
   1. 一个把B站网页端和手机端结合起来的Up主后台功能。

2. 优化首页搜索栏
   
   1. 现在搜索栏已经可以显示历史搜索记录，快捷检索等功能和热搜等功能。
      1. 设计思路：点击搜索栏，将弹出一个新的Panel，这个Panel将会替换掉现有的搜索提示。
         1. Panel的内容跟随搜索框的内容进行改变，比如说开始自定义搜索关键字，Panel自动变换成为列表候选。
         2. 内容为Null的情况下将会显示热搜、历史搜索，一旦输入内容将会变成列表候选。
   2. AI搜索融合进入新的搜索栏。

#### 0.0.7-dev

#### 0.0.8-dev

#### 0.0.9-dev
